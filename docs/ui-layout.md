# UI レイアウト

## 概要

Anycast の基本的な UI レイアウトを定義する。

## 基本構成

全ページ共通で、以下の 3 エリア構成を採用する。

```
┌─────────────────────────────────────────────┐
│                   ヘッダー                    │
├────────────┬────────────────────────────────┤
│            │                                │
│            │                                │
│  サイド    │           コンテンツ            │
│  メニュー   │                                │
│            │                                │
│            │                                │
└────────────┴────────────────────────────────┘
```

## ヘッダー

全ページ共通のヘッダー。以下の要素を配置する。

| 要素 | 説明 |
|------|------|
| ロゴ | サービスロゴ。クリックでホームへ遷移 |
| 検索バー | チャンネル・エピソードの検索 |
| 作成ボタン | エピソード作成への導線（ログイン時のみ表示） |
| アカウントアイコン | ログイン時: アカウントメニュー / 未ログイン時: ログインボタン |

## サイドメニュー

ページの種類によってサイドメニューの内容を切り替える。

### 通常ページ（公開ページ、ライブラリ）

- ホーム
- 検索
- ライブラリ（ログイン時のみ）
  - お気に入り
  - フォロー中

### Studio ページ (`/studio/*`)

- ダッシュボード
- チャンネル
- （将来: 分析など）

### 設定ページ (`/settings/*`)

- アカウント
- サブスクリプション

## デザイン方針

- ダークモードを標準とする

## 実装状況

### レイアウトコンポーネント

| コンポーネント | パス | 説明 |
|----------------|------|------|
| `Sidebar` | `src/features/app/ui/Sidebar.tsx` | サイドバーの枠組み |
| `MainLayout` | `src/features/app/layouts/MainLayout.tsx` | 通常ページ用レイアウト |
| `StudioLayout` | `src/features/app/layouts/StudioLayout.tsx` | Studio ページ用レイアウト |
| `SettingsLayout` | `src/features/app/layouts/SettingsLayout.tsx` | 設定ページ用レイアウト |

### ルートグループ

| グループ | 適用レイアウト | 認証 |
|----------|----------------|------|
| `(main)` | `MainLayout` | `/library/*` のみ必須 |
| `(studio)` | `StudioLayout` | 必須 |
| `(settings)` | `SettingsLayout` | 必須 |
| `(auth)` | なし | 不要 |

### 認証ガード

`src/middleware.ts` で `/library/*`、`/studio/*`、`/settings/*` への未認証アクセスをログインページにリダイレクトする。

## 今後の検討事項

- レスポンシブ対応（モバイル時のサイドメニューの扱い）
- プレイヤーの配置（画面下部に固定表示など）
